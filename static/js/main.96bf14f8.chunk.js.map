{"version":3,"sources":["components/load-more-btn/LoadMore.module.css","components/image-gallery/ImageGallery.module.css","services/services.js","components/search-bar/Searchbar.js","components/image-gallery/ImageGallery.js","components/load-more-btn/LoadMoreButton.js","components/app/App.js","index.js","components/search-bar/Searchbar.module.css","components/app/App.module.css"],"names":["module","exports","axios","defaults","baseURL","key","Searchbar","state","value","onHandleSubmit","evt","preventDefault","props","setState","onHandleChange","target","className","styles","onSubmit","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","onKeyDown","console","log","Component","ImageGallery","isModalOpened","source","openModal","modalWindowImg","getAttribute","closeModal","nodeName","document","addEventListener","onKeyPressed","bind","removeEventListener","keyCode","items","Overlay","onClick","Modal","id","src","alt","map","item","shortId","generate","ImageGalleryItem","webformatURL","data-source","largeImageURL","ImageGalleryItem_image","LoadMoreButton","page","currentPage","handleClick","prevProps","prevState","Button","App","imgItems","isLoading","hasError","incrementPage","name","a","async","get","data","hits","getAllImages","then","window","scrollTo","top","documentElement","scrollHeight","behavior","length","color","height","width","timeout","Loader","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.96bf14f8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadMore_Button__2v8N0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1FB-M\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__1QhKr\",\"ImageGalleryItem_image\":\"ImageGallery_ImageGalleryItem_image__1QPzR\",\"ImageGalleryItem-image\":\"ImageGallery_ImageGalleryItem-image__1QFHF\",\"Overlay\":\"ImageGallery_Overlay__2suPz\",\"Modal\":\"ImageGallery_Modal__2lCrn\"};","import axios from \"axios\"\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\nconst key = \"14452993-a97f0aeb82bfc4ebb60896535\";\r\n\r\nexport const getAllImages = async(name,page=1)=> {\r\nconst data= await axios.get(`?q=${name}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`)\r\n\r\nreturn data.data.hits.map(({id, webformatURL, largeImageURL })=> ({id, webformatURL, largeImageURL }));\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\nclass Searchbar extends Component {\r\n  state = {\r\n    value: \"\"\r\n  };\r\n\r\n  onHandleSubmit = evt => {\r\n    evt.preventDefault();\r\n    this.props.value(this.state.value);\r\n    this.setState({ value: \"\" });\r\n  };\r\n  onHandleChange = evt => {\r\n    this.setState({ value: evt.target.value });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className=\"SearchForm\" onSubmit={this.onHandleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchForm_button}>\r\n            <span className={styles.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onHandleChange}\r\n            value={this.state.value}\r\n            onKeyDown={() => console.log(\"WOKRRR\")}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport shortId from \"short-id\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    isModalOpened: false,\r\n    source: null\r\n  };\r\n\r\n  componentWillMount() {\r\n    document.addEventListener(\"keydown\", this.onKeyPressed.bind(this));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"keydown\", this.onKeyPressed.bind(this));\r\n  }\r\n\r\n  onKeyPressed(evt) {\r\n    if (evt.keyCode === 27) {\r\n      this.setState({ isModalOpened: false });\r\n    }\r\n  }\r\n  openModal = evt => {\r\n    this.setState({ isModalOpened: true });\r\n    const modalWindowImg = evt.target.getAttribute(\"data-source\");\r\n    this.setState({ source: modalWindowImg });\r\n  };\r\n\r\n  closeModal = evt => {\r\n    if (evt.target.nodeName === \"IMG\") {\r\n      return;\r\n    }\r\n    this.setState({ isModalOpened: false });\r\n  };\r\n\r\n  render() {\r\n    const { items } = this.props;\r\n    const { isModalOpened } = this.state;\r\n    return (\r\n      <>\r\n        {isModalOpened && (\r\n          <div\r\n            className={styles.Overlay}\r\n            onClick={evt => this.closeModal(evt)}\r\n            onKeyDown={this.onKeyPressed}\r\n          >\r\n            <div className={styles.Modal} id=\"modal\">\r\n              <img\r\n                src={this.state.source}\r\n                alt=\"\"\r\n                id=\"modalIMG\"\r\n                onKeyDown={() => console.log(\"work\")}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n        <ul className={styles.ImageGallery}>\r\n          {items.map(item => (\r\n            <li\r\n              key={shortId.generate()}\r\n              className={styles.ImageGalleryItem}\r\n              onClick={evt => this.openModal(evt)}\r\n            >\r\n              <img\r\n                src={item.webformatURL}\r\n                data-source={item.largeImageURL}\r\n                className={styles.ImageGalleryItem_image}\r\n                alt=\"image\"\r\n              ></img>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./LoadMore.module.css\";\r\nclass LoadMoreButton extends Component {\r\n  state = {\r\n    page: this.props.currentPage\r\n  };\r\n\r\n  componentDidMount() {\r\n    console.log(\"render\");\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.page !== this.state.page) {\r\n      this.props.page(this.state.page);\r\n    }\r\n  }\r\n\r\n  handleClick = () => {\r\n    this.setState(state => ({\r\n      page: state.page + 1\r\n    }));\r\n\r\n    console.log(\"page\", this.state);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <button className={styles.Button} onClick={() => this.handleClick()}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoadMoreButton;\r\n","import React, { Component } from \"react\";\r\nimport { getAllImages } from \"../../services/services\";\r\nimport Searchbar from \"../search-bar/Searchbar\";\r\nimport ImageGallery from \"../image-gallery/ImageGallery\";\r\nimport styles from \"./App.module.css\";\r\nimport LoadMoreButton from \"../load-more-btn/LoadMoreButton\";\r\nimport Loader from \"react-loader-spinner\";\r\nclass App extends Component {\r\n  state = {\r\n    imgItems: [],\r\n    value: \"\",\r\n    page: 1,\r\n    isLoading: false,\r\n    hasError: false\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      prevState.value !== this.state.value ||\r\n      prevState.page !== this.state.page\r\n    ) {\r\n      if (prevState.value !== this.state.value) {\r\n        this.setState({ imgItems: [], page: 1 });\r\n      }\r\n      this.setState({ isLoading: true });\r\n      getAllImages(this.state.value, this.state.page).then(data => {\r\n        this.setState(prevState => ({\r\n          imgItems: [...prevState.imgItems, ...data],\r\n          isLoading: false\r\n        }));\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\"\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  onSubmit = value => {\r\n    this.setState({ value: value });\r\n  };\r\n  incrementPage = page => {\r\n    this.setState({ page });\r\n  };\r\n  render() {\r\n    const { isLoading } = this.state;\r\n    console.log(this.state.imgItems);\r\n    return (\r\n      <div className={styles.App}>\r\n        <Searchbar value={this.onSubmit} />\r\n        <ImageGallery items={this.state.imgItems} />\r\n        {this.state.imgItems.length > 0 && (\r\n          <LoadMoreButton\r\n            page={this.incrementPage}\r\n            currentPage={this.state.page}\r\n          />\r\n        )}\r\n        {isLoading && (\r\n          <Loader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000} //3 secs\r\n            className={styles.Loader}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from \"./components/app/App\"\nimport \"./main.module.css\";\nimport  \"./components/app/App.module.css\"\nReactDOM.render(<App className=\"App\"/>, document.getElementById('root'));\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__RjQqq\",\"SearchForm\":\"Searchbar_SearchForm__2bQwo\",\"SearchForm_button\":\"Searchbar_SearchForm_button__1-LFM\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__2iOaM\",\"SearchForm_input\":\"Searchbar_SearchForm_input__16woR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__34psG\",\"Loader\":\"App_Loader__2ZJk-\"};"],"sourceRoot":""}